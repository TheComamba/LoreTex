\begin{luacode}
	local ftInM = 0.3048
	local inInCm = 2.54
	local MiInKM = 1.609
	local lbInKg = 0.4536
	local gallonInLiter = 3.785
	local MCubedInLiter = 1000
	
	function PrintFtToM(valInFt)
		local str = RoundedNumString(valInFt*ftInM,1)
		str = str.." m ("
		str = str..RoundedNumString(valInFt,0)
		str = str.." ft)"
		tex.print(str)
	end

	function PrintFtToMSquared(valInFtSq)
		local str = RoundedNumString(valInFtSq*ftInM*ftInM,1)
		str = str.." m$^2$ ("
		str = str..RoundedNumString(valInFtSq,0)
		str = str.." ft$^2$)"
		tex.print(str)
	end

	function PrintFtCubedToLiter(valInFtCubed)
		local str = RoundedNumString(valInFtCubed*ftInM*ftInM*ftInM*MCubedInLiter,-1)
		str = str.." l ("
		str = str..RoundedNumString(valInFtCubed,0)
		str = str.." ft$^3$)"
		tex.print(str)
	end
	
	function PrintMToFt(valInM)
		local str = RoundedNumString(valInM,1)
		str = str.." m ("
		str = str..RoundedNumString(valInM/ftInM,0)
		str = str.." ft)"
		tex.print(str)
	end

	function PrintInToCM(valInIn)
		local str = RoundedNumString(valInIn*inInCm,0)
		str = str.." cm ("
		str = str..RoundedNumString(valInIn,1)
		str = str.." inch)"
		tex.print(str)
	end

	function PrintMiToKm(valInMi)
		local str = RoundedNumString(valInMi*MiInKM,1)
		str = str.." km ("
		str = str..RoundedNumString(valInMi,1)
		str = str.." mi)"
		tex.print(str)
	end

	function PrintLbToKg(valInLb)
		local str = RoundedNumString(valInLb*lbInKg,1)
		str = str.." kg ("
		str = str..RoundedNumString(valInLb,0)
		str = str.." lb)"
		tex.print(str)
	end

	function PrintGallonToLiter(valInGallons)
		local str = RoundedNumString(valInGallons*gallonInLiter,1)
		str = str.." l ("
		str = str..RoundedNumString(valInGallons,1)
		str = str.." gallons)"
		tex.print(str)
	end
\end{luacode}

\newcommand{\ft}[1]{
	\directlua{PrintFtToM(#1)}
}

\newcommand{\ftsquared}[1]{
	\directlua{PrintFtToMSquared(#1)}
}

\newcommand{\ftcubed}[1]{
	\directlua{PrintFtCubedToLiter(#1)}
}

\newcommand{\metre}[1]{
	\directlua{PrintMToFt(#1)}
}

\newcommand{\inch}[1]{
	\directlua{PrintInToCM(#1)}
}

\newcommand{\mile}[1]{
	\directlua{PrintMiToKm(#1)}
}

\newcommand{\lb}[1]{
	\directlua{PrintLbToKg(#1)}
}

\newcommand{\gallon}[1]{
	\directlua{PrintGallonToLiter(#1)}
}

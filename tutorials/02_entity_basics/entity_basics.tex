\documentclass[openany]{book}

\input{../../src/main.tex}
\loadLuacode{../../src/}
\throwOnError

\begin{document}

For \LoreTex{}, an entity can be almost anything that resides within the game world. The core idea of this project is to give the computer a whole bunch of entities making up the world, writing a story or adventure, and letting \LoreTex{} generate an encyclopaedia containing exactly those entities that are important.

This last step is invoked using the automatedChapters command, which should come at the end of the document. Any entities created or used afterwards will not be included.

The command to declare an entity is:
\begin{verbatim}
	\newEntity{category}{label}{short name}{name}
\end{verbatim}
For example, we could create an item called \reference{sting} using:
\begin{verbatim}
	\newEntity{other}{sting}{}{Sting}
\end{verbatim}
\newEntity{other}{sting}{}{Sting}
If \reference{sting} is important to our story, we can refer to it using the reference command, with the label as the argument. If you have a look at the code of this document, you will notice that it is possible to refer to \reference{sting} even before it has been created as an entity.

We could create another, less important item called \mention{glamdring}:
\begin{verbatim}
	\newEntity{other}{glamdring}{}{Glamdring}
\end{verbatim}
\newEntity{other}{glamdring}{}{Glamdring}
If we don't want \mention{glamdring} to get its own entry, we can refer to it using the mention command. \LoreTex{} will then create a chapter called Only Mentioned and list it there.

If you want an entity to have an entry without printing its name, use the makeEntityPrimary command instead.
\makeEntityPrimary{nenya}

\newEntity{other}{nenya}{}{Nenya}

Now all that's left is to call:
\begin{verbatim}
	\automatedChapters{}
\end{verbatim}

\automatedChapters{}

\end{document}